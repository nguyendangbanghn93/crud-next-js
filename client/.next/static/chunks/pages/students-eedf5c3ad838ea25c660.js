(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[609],{2137:function(e,r,n){"use strict";function t(e,r,n,t,a,s,c){try{var o=e[s](c),i=o.value}catch(u){return void n(u)}o.done?r(i):Promise.resolve(i).then(t,a)}function a(e){return function(){var r=this,n=arguments;return new Promise((function(a,s){var c=e.apply(r,n);function o(e){t(c,a,s,o,i,"next",e)}function i(e){t(c,a,s,o,i,"throw",e)}o(void 0)}))}}n.d(r,{Z:function(){return a}})},8853:function(e,r,n){"use strict";var t=n(5893),a=n(682);r.Z=function(e){var r=e.title,n=e.children;return(0,t.jsx)(a.Z,{children:(0,t.jsxs)("div",{style:{background:"#eee",padding:"25px"},children:[(0,t.jsx)("h1",{className:"display-3",children:r}),n]})})}},3229:function(e,r,n){"use strict";n.d(r,{Z:function(){return u}});var t=n(5893),a=n(9791),s=n(682),c=n(652),o=n(1664),i=function(){return(0,t.jsx)(a.Z,{bg:"dark",variant:"dark",children:(0,t.jsxs)(s.Z,{children:[(0,t.jsx)(o.default,{href:"/",passHref:!0,children:(0,t.jsx)(a.Z.Brand,{href:"#home",children:"CRUD-NEXTJS"})}),(0,t.jsxs)(c.Z,{className:"me-auto",children:[(0,t.jsx)(o.default,{href:"/",passHref:!0,children:(0,t.jsx)(c.Z.Link,{href:"#home",children:"Home"})}),(0,t.jsx)(o.default,{href:"/students",passHref:!0,children:(0,t.jsx)(c.Z.Link,{href:"#home",children:"List Student"})}),(0,t.jsx)(o.default,{href:"/students/create",passHref:!0,children:(0,t.jsx)(c.Z.Link,{href:"#home",children:"Add student"})})]})]})})},u=function(e){var r=e.children;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i,{}),r]})}},8724:function(e,r,n){"use strict";n.d(r,{MA:function(){return c},LK:function(){return o},Gc:function(){return i}});var t=n(7757),a=n.n(t),s=n(2137),c=function(){var e=(0,s.Z)(a().mark((function e(r){var n,t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://localhost:5000/api/students/".concat(r),{method:"DELETE"});case 3:return n=e.sent,e.next=6,n.json();case 6:return t=e.sent,e.abrupt("return",t.success?t.student:{});case 10:return e.prev=10,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",[]);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(r){return e.apply(this,arguments)}}(),o=function(){var e=(0,s.Z)(a().mark((function e(r){var n,t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://localhost:5000/api/students",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});case 3:return n=e.sent,e.next=6,n.json();case 6:return t=e.sent,e.abrupt("return",t.success?t.student:{});case 10:return e.prev=10,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",[]);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(r){return e.apply(this,arguments)}}(),i=function(){var e=(0,s.Z)(a().mark((function e(r,n){var t,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://localhost:5000/api/students/".concat(r),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});case 3:return t=e.sent,e.next=6,t.json();case 6:return s=e.sent,console.log("data____________",s),e.abrupt("return",s.success?s.student:{});case 11:return e.prev=11,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",[]);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(r,n){return e.apply(this,arguments)}}()},9881:function(e,r,n){"use strict";n.r(r),n.d(r,{__N_SSG:function(){return S},default:function(){return P}});var t=n(5893),a=n(7757),s=n.n(a),c=n(2137),o=n(1664),i=n(682),u=n(2086),l=n(5005),d=n(3229);function f(e,r){(null==r||r>e.length)&&(r=e.length);for(var n=0,t=new Array(r);n<r;n++)t[n]=e[n];return t}function h(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,r){if(e){if("string"===typeof e)return f(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,r):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var p=n(6156),m=n(4036),v=n.n(m),y=n(7294),j=n(600);var b=y.forwardRef((({bsPrefix:e,className:r,striped:n,bordered:a,borderless:s,hover:c,size:o,variant:i,responsive:u,...l},d)=>{const f=(0,j.vE)(e,"table"),h=v()(r,f,i&&`${f}-${i}`,o&&`${f}-${o}`,n&&`${f}-striped`,a&&`${f}-bordered`,s&&`${f}-borderless`,c&&`${f}-hover`),p=(0,t.jsx)("table",{...l,className:h,ref:d});if(u){let e=`${f}-responsive`;return"string"===typeof u&&(e=`${e}-${u}`),(0,t.jsx)("div",{className:e,children:p})}return p}));function x(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,t)}return n}var g=function(e){var r=function(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?x(Object(n),!0).forEach((function(r){(0,p.Z)(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}({configColumn:{column_1:{name:"Column 1"},column_2:{name:"Column 2"},column_3:{name:"Column 3"},action:{name:"Action",handler:function(e,r){return(0,t.jsxs)(u.Z,{children:[(0,t.jsx)(l.Z,{variant:"outline-warning",children:"Edit"}),(0,t.jsx)(l.Z,{variant:"outline-danger",children:"Delete"})]})}},sortColumn:["column_1","column_2","column_3","action"]},serial:{name:"STT"},data:[{column_1:"Value 1_1",column_2:"Value 1_2",column_3:"Value 1_3"},{column_1:"Value 2_1",column_2:"Value 2_2",column_3:"Value 2_3"},{column_1:"Value 3_1",column_2:"Value 3_2",column_3:"Value 3_3"}]},e),n=r.serial?["#"].concat(h(r.configColumn.sortColumn)):h(r.configColumn.sortColumn),a=h(r.data);return(0,t.jsxs)(b,{striped:!0,bordered:!0,hover:!0,responsive:!0,children:[(0,t.jsx)("thead",{children:(0,t.jsx)("tr",{children:n.map((function(e,n){return"#"===e?(0,t.jsx)("th",{children:r.serial.name},n):(0,t.jsx)("th",{children:r.configColumn[e]&&r.configColumn[e].name},n)}))})}),(0,t.jsx)("tbody",{children:a.map((function(e,a){return(0,t.jsx)("tr",{children:n.map((function(n){var s=r.configColumn[n];return"#"===n?(0,t.jsx)("td",{children:a+1},n):s&&"function"===typeof s.handler?(0,t.jsx)("td",{children:s.handler(e[n],e)},n):(0,t.jsx)("td",{children:e[n]},n)}))},a)}))})]})},_=n(8724),O=n(4823),w=n(720);function Z(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,t)}return n}var C=function(e){var r=function(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?Z(Object(n),!0).forEach((function(r){(0,p.Z)(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}({clickOverlayHandler:function(){return console.log("click overlay")},title:"Title",body:e.children||"Body",headerClass:"ps t0 l0 bgcf",wrapClass:"pf t50 l50 tt z100",cardClass:"mh1v oya pr",overlayClass:"pf t0 l0 r0 b0 z99 overlay",headerStyle:{},wrapStyle:{},cardStyle:{},overlayStyle:{},nameBtnYes:"C\xf3",nameBtnNo:"Kh\xf4ng",noHandler:function(){},yesHandler:!1,isShow:!1},e);return(0,t.jsx)(t.Fragment,{children:r.isShow&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:r.overlayClass,style:r.overlayStyle,onClick:r.clickOverlayHandler}),(0,t.jsx)("div",{className:r.wrapClass,style:r.wrapStyle,children:(0,t.jsxs)(w.Z,{className:r.cardClass,style:r.cardStyle,children:[(0,t.jsx)(w.Z.Header,{className:r.headerClass,style:r.headerStyle,children:r.title}),(0,t.jsx)(w.Z.Body,{children:r.body}),(0,t.jsx)(w.Z.Footer,{style:{textAlign:"right"},children:r.yesHandler&&(0,t.jsxs)(u.Z,{children:[(0,t.jsx)(l.Z,{variant:"success",onClick:r.yesHandler,children:r.nameBtnYes}),(0,t.jsx)(l.Z,{variant:"danger",onClick:r.noHandler,children:r.nameBtnNo})]})})]})})]})})},N=n(8853),S=!0,P=function(e){var r=e.students,n=(0,y.useState)(!1),a=n[0],f=n[1],h=(0,y.useState)({}),p=h[0],m=h[1],v=(0,y.useState)(r),j=v[0],b=v[1],x=(0,y.useCallback)((function(e){m(e),f(!0)}),[]);return(0,t.jsxs)(d.Z,{children:[(0,t.jsx)(C,{isShow:a,clickOverlayHandler:function(){return f(!1)},title:"Th\xf4ng b\xe1o",body:(0,t.jsxs)("div",{children:["B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n x\xf3a th\xf4ng tin h\u1ecdc sinh ",(0,t.jsxs)("b",{children:['"',p.fullname,'"']})]}),yesHandler:(0,c.Z)(s().mark((function e(){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,_.MA)(p._id);case 2:r=e.sent,b((function(e){return e.filter((function(e){return e._id!=r._id}))})),f(!1);case 5:case"end":return e.stop()}}),e)}))),noHandler:function(){return f(!1)}}),(0,t.jsx)(N.Z,{title:"List Student"}),(0,t.jsx)(i.Z,{className:"mt50",children:(0,t.jsx)(g,{configColumn:{fullname:{name:"Fullname"},birthday:{name:"Birthday",handler:function(e){return(0,O.a)(e,"{j}/{n}/{f}")}},email:{name:"Email"},phoneNumber:{name:"Phone number"},action:{name:"Action",handler:function(e,r){return(0,t.jsxs)(u.Z,{children:[(0,t.jsx)(o.default,{href:"/students/".concat(r._id),children:(0,t.jsx)(l.Z,{variant:"outline-success",children:"Detail"})}),(0,t.jsx)(o.default,{href:"/students/update/".concat(r._id),children:(0,t.jsx)(l.Z,{variant:"outline-warning",children:"Edit"})}),(0,t.jsx)(l.Z,{variant:"outline-danger",onClick:function(){return x(r)},children:"Delete"})]})}},sortColumn:["fullname","birthday","email","phoneNumber","action"]},data:j})})]})}},4823:function(e,r,n){"use strict";n.d(r,{a:function(){return t}});var t=function(e,r){var n=new Date(e||new Date);if(!n.getDate())return"";var t=Number(n),a={D:n.getDay(),H:n.getHours(),J:n.getDate(),M:n.getMinutes(),N:n.getMonth()+1,O:n,S:n.getSeconds(),d:["CN","T2","T3","T4","T5","T6","T7"][n.getDay()],f:n.getFullYear(),h:("0"+n.getHours()).substr(-2),j:("0"+n.getDate()).substr(-2),m:("0"+n.getMinutes()).substr(-2),n:("0"+(n.getMonth()+1)).substr(-2),s:("0"+n.getSeconds()).substr(-2),t:Number(t),u:parseInt(t/1e3),y:String(n.getFullYear()).substr(-2),toISO:n.toISOString().slice(0,19).replace("T"," ")};return"string"===typeof r?r.replace(/{.}/g,(function(e){return a[e.replace(/[{}]/g,"")]})):a}},3391:function(e,r,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/students",function(){return n(9881)}])},2086:function(e,r,n){"use strict";var t=n(4036),a=n.n(t),s=n(7294),c=n(600),o=n(5893);const i=s.forwardRef((({bsPrefix:e,size:r,vertical:n,className:t,as:s="div",...i},u)=>{const l=(0,c.vE)(e,"btn-group");let d=l;return n&&(d=`${l}-vertical`),(0,o.jsx)(s,{...i,ref:u,className:a()(t,d,r&&`${l}-${r}`)})}));i.displayName="ButtonGroup",i.defaultProps={vertical:!1,role:"group"},r.Z=i},720:function(e,r,n){"use strict";n.d(r,{Z:function(){return Z}});var t=n(4036),a=n.n(t),s=n(7294),c=n(600),o=n(4680),i=n(5893),u=e=>s.forwardRef(((r,n)=>(0,i.jsx)("div",{...r,ref:n,className:a()(r.className,e)})));const l=s.forwardRef((({bsPrefix:e,className:r,variant:n,as:t="img",...s},o)=>{const u=(0,c.vE)(e,"card-img");return(0,i.jsx)(t,{ref:o,className:a()(n?`${u}-${n}`:u,r),...s})}));l.displayName="CardImg";var d=l,f=n(9059);const h=s.forwardRef((({bsPrefix:e,className:r,as:n="div",...t},o)=>{const u=(0,c.vE)(e,"card-header"),l=(0,s.useMemo)((()=>({cardHeaderBsPrefix:u})),[u]);return(0,i.jsx)(f.Z.Provider,{value:l,children:(0,i.jsx)(n,{ref:o,...t,className:a()(r,u)})})}));h.displayName="CardHeader";var p=h;const m=u("h5"),v=u("h6"),y=(0,o.Z)("card-body"),j=(0,o.Z)("card-title",{Component:m}),b=(0,o.Z)("card-subtitle",{Component:v}),x=(0,o.Z)("card-link",{Component:"a"}),g=(0,o.Z)("card-text",{Component:"p"}),_=(0,o.Z)("card-footer"),O=(0,o.Z)("card-img-overlay"),w=s.forwardRef((({bsPrefix:e,className:r,bg:n,text:t,border:s,body:o,children:u,as:l="div",...d},f)=>{const h=(0,c.vE)(e,"card");return(0,i.jsx)(l,{ref:f,...d,className:a()(r,h,n&&`bg-${n}`,t&&`text-${t}`,s&&`border-${s}`),children:o?(0,i.jsx)(y,{children:u}):u})}));w.displayName="Card",w.defaultProps={body:!1};var Z=Object.assign(w,{Img:d,Title:j,Subtitle:b,Body:y,Link:x,Text:g,Header:p,Footer:_,ImgOverlay:O})}},function(e){e.O(0,[774,782,888,179],(function(){return r=3391,e(e.s=r);var r}));var r=e.O();_N_E=r}]);